(this.webpackJsonpnasa_dashboard=this.webpackJsonpnasa_dashboard||[]).push([[0],{118:function(e,t,a){},119:function(e,t,a){},138:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a.n(c),s=a(18),n=a.n(s),o=(a(118),a(4)),i=a(5),l=(a(119),a(40)),u=a.n(l),f=a(23),j=(a(138),a(0)),d=function(e){var t=e.stateObj,a=e.intermediateStateFunc,c=e.spacecraftOrAstro;return Object(j.jsx)("div",{className:"filterSubset",children:Object.keys(t).map((function(e){var r="ISS"===e?"Intl Space Station":"STS"===e?"Space Shuttle":e;return Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{onChange:function(){return function(e){var r=Object(o.a)({},t),s=!0;t[e].checked?(r[e].checked=!1,a(Object(o.a)({},r),c,s)):(r[e].checked=!0,s=!1,a(Object(o.a)({},r),c,s))}(e)},type:"checkbox",id:e+"Checkbox",checked:t[e].checked}),Object(j.jsx)("label",{htmlFor:e+"Checkbox",id:e+"CheckboxLab",className:c+"CheckBox",children:r})]},e)}))})},b=function(e){var t=e.originalMissionData,a=e.setFilterMissionData,r={};["Cosmonaut","Astronaut"].forEach((function(e){r[e]={checked:!0}}));var s=Object(c.useState)(r),n=Object(i.a)(s,2),o=n[0],l=n[1],u={};["Apollo","Gemini","ISS","STS","Skylab","Soyuz","Voskhod"].forEach((function(e){u[e]={checked:!0}}));var b=Object(c.useState)(u),h=Object(i.a)(b,2),p=h[0],m=h[1],O=t.reduce((function(e,t){var a={cosmoOrAstro:t.cosmoOrAstro,spacecraft:t.spacecraft};return 0===e.filter((function(e){return e.cosmoOrAstro===a.cosmoOrAstro&&e.spacecraft===a.spacecraft})).length&&e.push(a),e}),[]),x=function(e,t,a){var c;"cosmoOrAstro"===t&&a?c=O.filter((function(t){return e[t.cosmoOrAstro].checked&&p[t.spacecraft].checked})):"cosmoOrAstro"!==t||a?"spacecraft"===t&&a?c=O.filter((function(t){return o[t.cosmoOrAstro].checked&&e[t.spacecraft].checked})):"spacecraft"!==t||a||(c=O.filter((function(t){return e[t.spacecraft].checked}))):c=O.filter((function(t){return e[t.cosmoOrAstro].checked||p[t.spacecraft].checked}));var r=Object(f.a)(new Set(c.map((function(e){return e.spacecraft})))),s=Object(f.a)(new Set(c.map((function(e){return e.cosmoOrAstro})))),n={};Object.keys(o).forEach((function(e){var t=s.includes(e);n[e]={checked:t}})),l(n);var i={};Object.keys(p).forEach((function(e){var t=r.includes(e);i[e]={checked:t}})),m(i)};return Object(c.useEffect)((function(){var e=t.filter((function(e){return o[e.cosmoOrAstro].checked&&p[e.spacecraft].checked}));a(e)}),[o,p,t,a]),Object(j.jsxs)("div",{className:"filterContainer",children:[Object(j.jsx)("br",{}),Object(j.jsx)(d,{stateObj:o,intermediateStateFunc:x,spacecraftOrAstro:"cosmoOrAstro"}),Object(j.jsx)("br",{}),Object(j.jsx)(d,{stateObj:p,intermediateStateFunc:x,spacecraftOrAstro:"spacecraft"})]})},h=a(2),p=(a(141),a(10)),m=function(e){for(var t=e.filterMissionData,a=Object(c.useRef)(null),r=Object(c.useRef)(null),s=t,n=0,o=1,i=0;i<s.length;i++)s[i].year!==n?(n=s[i].year,o=1):o+=1,s[i].yearRank=o;var l=Object(p.a)(),u=l.width,f=l.ref,d=30,b=40,m=30,O=30,x=h.f().domain([1964,2013]).range([O,u-b]),v=h.a().scale(x).tickFormat(h.c("d")),S=h.f().domain([0,25]).range([275-m,d]),M=h.b().scale(S);return Object(c.useEffect)((function(){h.g(a.current).call(v),h.g(r.current).call(M)}),[v,M]),Object(c.useEffect)((function(){h.h("circle").on("mouseover",(function(e){var t=e.pageX-100,a=e.pageY-120;h.g("#TimelineDotChartMouseover").style("left",t+"px").style("top",a+"px").html(e.srcElement.attributes.message.nodeValue).classed("hidden",!1)})).on("mouseout",(function(){h.g("#TimelineDotChartMouseover").classed("hidden",!0)}))})),Object(j.jsxs)("div",{className:"TimelineDotChart",ref:f,children:[Object(j.jsx)("div",{id:"TimelineDotChartMouseover",className:"hidden"}),Object(j.jsxs)("svg",{viewBox:"0 0 ".concat(void 0===u?0:u," ").concat(275),children:[Object(j.jsx)("g",{children:s.map((function(e,t){return Object(j.jsx)("circle",{cx:x(e.year),cy:S(e.yearRank),r:(x(1966)-x(1965))/3,fill:"USA"===e.country?"rgba(37, 37, 216, .5)":"rgba(216, 37, 37, .5)",message:"<center><b>".concat(e.year,"</b></center><br/>\n                                          <b>").concat(e.country," Mission</b>: ").concat(e.vehicle,"<br />\n                                          <b>Personnel</b>: ").concat(e.crewArr.map((function(t,a){return a%2===0||a===e.crewArr.length-1?t+" ":t+", "})).join(""),"<br />\n                                          <b>Duration</b>: ").concat(e.duration,"<br />\n                                          ").concat(void 0===e.purpose?"":"<b>Description</b>:  "+e.purpose)},t)}))}),Object(j.jsxs)("g",{children:[Object(j.jsx)("g",{ref:a,transform:"translate(0 ".concat(275-m,")")}),Object(j.jsx)("g",{ref:r,transform:"translate(".concat(O," 0)")}),Object(j.jsx)("g",{children:Object(j.jsx)("text",{transform:"translate(".concat(O+2," ").concat(d,") rotate(90)"),className:"yAxisLabel",children:"# of Missions"})})]})]})]})},O=function(e){var t=[];return e.forEach((function(e){for(var a,c="",r=e.crewArr.length/2,s=0;s<r;s++)c=e.crewArr[2*s]+" "+e.crewArr[2*s+1],a=s,t.push(Object(o.a)(Object(o.a)({},e),{},{astroName:c,crewMemberId:a}))})),t},x=function(e){return e.reduce((function(e,t){return e[t.astroName]?(e[t.astroName].numMissions+=1,e[t.astroName].totalMinsInSpace+=t.timeInMinutes,e[t.astroName].yearsActiveMin=Math.min(e[t.astroName].yearsActiveMin,t.year),e[t.astroName].yearsActiveMax=Math.max(e[t.astroName].yearsActiveMax,t.year)):e[t.astroName]={astroName:t.astroName,astroCountry:t.country,numMissions:1,totalMinsInSpace:t.timeInMinutes,yearsActiveMin:t.year,yearsActiveMax:t.year},e}),{})},v=(a(39),function(e){var t=e.filterMissionData,a=Object(c.useRef)(null),r=Object(c.useRef)(null),s=O(t),n=x(s),o=Object.values(n).sort((function(e,t){return t.numMissions-e.numMissions})).slice(0,10),i=Object(p.a)(),l=i.width,u=i.ref,f=200,d=25,b=20,m=30,v=100,S=h.f().domain([0,h.d(o.map((function(e){return e.numMissions})))]).range([0,l-b-v]),M=h.a().scale(S).tickFormat(h.c("1")).ticks(3),y=h.e().domain(o.map((function(e){return e.astroName}))).range([d,f-m]).paddingInner(.1).paddingOuter(.5),g=h.b().scale(y);return Object(c.useEffect)((function(){h.g(a.current).call(M),h.g(r.current).call(g)}),[M,g]),Object(c.useEffect)((function(){h.h("rect").on("mouseover",(function(e){var t=e.pageX-90,a=e.pageY-100;h.g("#AstroCountChartMouseover").style("left",t+"px").style("top",a+"px").html(e.srcElement.attributes.message.nodeValue).classed("hidden",!1)})).on("mouseout",(function(){h.g("#AstroCountChartMouseover").classed("hidden",!0)}))})),Object(j.jsxs)("div",{className:"AstroCountChart",ref:u,children:[Object(j.jsx)("div",{id:"AstroCountChartMouseover",className:"hidden"}),Object(j.jsxs)("svg",{viewBox:"0 0 ".concat(l," ").concat(f),children:[Object(j.jsx)("g",{children:o.map((function(e,t){return Object(j.jsx)("rect",{x:v,y:y(e.astroName),height:y.bandwidth(),width:S(e.numMissions),fill:"USA"===e.astroCountry?"rgba(37, 37, 216, .5)":"rgba(216, 37, 37, .5)",message:"<center><b>".concat(e.astroName,"</b><br/><br/>\n                                          <b># of Spacewalks</b>: ").concat(e.numMissions,"<br />\n                                          <b>Hours in Space</b>: ").concat(Math.round(e.totalMinsInSpace/60),"<br />\n                                          <b>Years</b>: ").concat(e.yearsActiveMax===e.yearsActiveMin?e.yearsActiveMin:"".concat(e.yearsActiveMin,"-").concat(e.yearsActiveMax),"\n                                          </center>")},t)}))}),Object(j.jsxs)("g",{children:[Object(j.jsx)("g",{ref:a,transform:"translate(".concat(v," ").concat(f-m,")")}),Object(j.jsx)("g",{ref:r,transform:"translate(".concat(v," 0)")}),Object(j.jsx)("g",{children:Object(j.jsx)("text",{transform:"translate(".concat(l-.5*l," ").concat(f,") "),className:"yAxisLabel",children:"# of Missions"})}),Object(j.jsx)("g",{children:Object(j.jsx)("text",{transform:"translate(".concat(l-.72*l," ").concat(d-8,") "),className:"title",children:"Individual Spacewalk Count"})})]})]})]})}),S=function(e){var t=e.filterMissionData,a=Object(c.useRef)(null),r=Object(c.useRef)(null),s=t.reduce((function(e,t){return e[t.spacecraft]?(e[t.spacecraft].spacecraftCount+=1,e[t.spacecraft].spacewalkYearsMin=t.year<e[t.spacecraft].spacewalkYearsMin?t.year:e[t.spacecraft].spacewalkYearsMin,e[t.spacecraft].spacewalkYearsMax=t.year>e[t.spacecraft].spacewalkYearsMax?t.year:e[t.spacecraft].spacewalkYearsMax,e[t.spacecraft].country=t.country===e[t.spacecraft].country?e[t.spacecraft].country:"USA and Russia",e[t.spacecraft].spacewalkMinutes+=t.timeInMinutes):e[t.spacecraft]={spacecraft:"STS"===t.spacecraft?"Space Shuttle":"ISS"===t.spacecraft?"Intl Space Station":t.spacecraft,spacecraftCount:1,spacewalkYearsMin:t.year,spacewalkYearsMax:t.year,country:t.country,spacewalkMinutes:t.timeInMinutes},e}),{});s=(s=Object.values(s)).sort((function(e,t){return t.spacecraftCount-e.spacecraftCount}));var n=Object(p.a)(),o=n.width,i=n.ref,l=200,u=25,f=20,d=30,b=100,m=h.f().domain([0,h.d(s.map((function(e){return e.spacecraftCount})))]).range([0,o-f-b]),O=h.a().scale(m).tickFormat(h.c("1")).ticks(3),x=h.e().domain(s.map((function(e){return e.spacecraft}))).range([u,l-d]).paddingInner(.1).paddingOuter(.5),v=h.b().scale(x);return Object(c.useEffect)((function(){h.g(a.current).call(O),h.g(r.current).call(v)}),[O,v]),Object(c.useEffect)((function(){h.h("rect").on("mouseover",(function(e){var t=e.pageX-90,a=e.pageY-100;h.g("#SpacecraftCountChartMouseover").style("left",t+"px").style("top",a+"px").html(e.srcElement.attributes.message.nodeValue).classed("hidden",!1)})).on("mouseout",(function(){h.g("#SpacecraftCountChartMouseover").classed("hidden",!0)}))})),Object(j.jsxs)("div",{className:"SpacecraftCountChart",ref:i,children:[Object(j.jsx)("div",{id:"SpacecraftCountChartMouseover",className:"hidden"}),Object(j.jsxs)("svg",{viewBox:"0 0 ".concat(o," ").concat(l),children:[Object(j.jsx)("g",{children:s.map((function(e,t){return Object(j.jsx)("rect",{x:b,y:x(e.spacecraft),height:x.bandwidth(),width:m(e.spacecraftCount),fill:"USA"===e.country?"rgba(37, 37, 216, .5)":"Russia"===e.country?"rgba(216, 37, 37, .5)":"rgba(114, 28, 114, 0.3)",message:"<center><b>".concat(e.spacecraft,"</b><br/><br/>\n                                          <b># of Spacewalks</b>: ").concat(e.spacecraftCount,"<br />\n                                          <b>Spacewalk Years</b>: ").concat(e.spacewalkYearsMax===e.spacewalkYearsMin?e.spacewalkYearsMin:"".concat(e.spacewalkYearsMin,"-").concat(e.spacewalkYearsMax),"\n                                          </center>")},t)}))}),Object(j.jsxs)("g",{children:[Object(j.jsx)("g",{ref:a,transform:"translate(".concat(b," ").concat(l-d,")")}),Object(j.jsx)("g",{ref:r,transform:"translate(".concat(b," 0)")}),Object(j.jsx)("g",{children:Object(j.jsx)("text",{transform:"translate(".concat(o-.5*o," ").concat(l,") "),className:"yAxisLabel",children:"# of Missions"})}),Object(j.jsx)("g",{children:Object(j.jsx)("text",{transform:"translate(".concat(o-.7*o," ").concat(u-8,") "),className:"title",children:"Spacecraft Spacewalk Count"})})]})]})]})},M=(a(17),function(e){var t=e.filterMissionData.length;return Object(j.jsxs)("div",{className:"CountContainer",children:[Object(j.jsx)("div",{className:"CountVal",children:t}),Object(j.jsx)("div",{className:"CountLabel",children:"# of Spacewalks"})]})}),y=function(e){var t=e.filterMissionData,a=O(t),c=x(a),r=Object.keys(c).length;return Object(j.jsxs)("div",{className:"CountContainer",children:[Object(j.jsx)("div",{className:"CountVal",children:r}),Object(j.jsx)("div",{className:"CountLabel",children:"# of Astronaunts / Cosmonaunts"})]})},g=function(e){var t=e.filterMissionData,a=O(t),c=x(a),r=Object.values(c),s=0;return r.forEach((function(e){s+=parseInt(e.totalMinsInSpace)})),Object(j.jsxs)("div",{className:"CountContainer",children:[Object(j.jsx)("div",{className:"CountVal",children:Math.round(s/60)}),Object(j.jsx)("div",{className:"CountLabel",children:"Hours in Space"})]})},C=function(e){var t=e.filterMissionData.reduce((function(e,t){return e[t.spacecraft]||(e[t.spacecraft]=1),e}),{}),a=Object.keys(t).length;return Object(j.jsxs)("div",{className:"CountContainer",children:[Object(j.jsx)("div",{className:"CountVal",children:a}),Object(j.jsx)("div",{className:"CountLabel",children:"Spacecraft Count"})]})},k=(a(142),function(e){var t=e.filterMissionData;return Object(j.jsxs)("div",{className:"PlotsContainer",children:[Object(j.jsxs)("div",{className:"CountRow",children:[Object(j.jsx)(M,{filterMissionData:t}),Object(j.jsx)(y,{filterMissionData:t}),Object(j.jsx)(g,{filterMissionData:t}),Object(j.jsx)(C,{filterMissionData:t})]}),Object(j.jsx)("div",{className:"TimelineChartRow",children:Object(j.jsx)(m,{filterMissionData:t})}),Object(j.jsxs)("div",{className:"SummaryChartRows",children:[Object(j.jsx)("div",{className:"SummaryChart",children:Object(j.jsx)(v,{filterMissionData:t})}),Object(j.jsx)("div",{className:"SummaryChart",children:Object(j.jsx)(S,{filterMissionData:t})})]})]})}),A=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)([]),n=Object(i.a)(s,2),l=n[0],f=n[1];return Object(c.useEffect)((function(){var e={"Gemini VIII":"1966-03-16T00:00:00.000","STS-72":"1996-01-11T00:00:00.000","STS-76":"1996-03-22T00:00:00.000","STS-80":"1996-10-31T00:00:00.000","STS-82 /      HST-2":"1997-02-11T00:00:00.000","STS-86":"1997-09-26T00:00:00.000","Soyuz TM-4    Mir":"1987-12-21T00:00:00.000","STS-123/1JA":"2008-03-11T00:00:00.000","STS-130/20A":"2010-02-08T00:00:00.000","Voskhod 2":"1965-03-18T00:00:00.000","Soyuz 4&5":"1969-01-14T00:00:00.000","Soyuz 12":"1973-09-27T00:00:00.000","Soyuz 26    Salyut 6":"1977-12-10T00:00:00.000","Soyuz T-9       Salyut 7":"1983-06-27T00:00:00.000","Soyuz T-13      Salyut 7":"1985-06-06T00:00:00.000","Soyuz TM-7      Mir ":"1988-11-26T00:00:00.000","Soyuz TM-8     Mir ":"1989-09-05T00:00:00.000","Soyuz TM-13     Mir ":"1991-10-02T00:00:00.000","Soyuz TM-15   Mir ":"1992-07-27T00:00:00.000","Soyuz TM-17    Mir 16":"1993-07-01T00:00:00.000","Soyuz TM-18     Mir 17":"1994-01-08T00:00:00.000","Soyuz TM-X     Mir 20":"1995-09-03T00:00:00.000","Soyuz TM-23     Mir 21":"1996-02-21T00:00:00.000","Soyuz TM-24       Mir 22":"1996-08-17T00:00:00.000","ISS Incr-13":"2006-06-01T00:00:00.000","ISS Incr-18":"2008-10-12T00:00:00.000"};u.a.get("https://data.nasa.gov/resource/eva.json").then((function(t){r(t.data.map((function(t){var a;a=t.duration?60*parseInt(t.duration.split(":")[0])+parseInt(t.duration.split(":")[1]):0,"Leroy Chiao          Winston Scott"===t.crew&&(t.vehicle="STS-72");var c=t.date,r=parseInt(new Date(Date.parse(c)).getFullYear());r||(c=e[t.vehicle],r=parseInt(new Date(Date.parse(c)).getFullYear()));var s=t.purpose?t.purpose.replaceAll("\xc2\x92","'"):"",n=t.vehicle.split(/[\s-]+/)[0];n="Incr"===n?"ISS":n;var i="USA"===t.country?"Astronaut":"Cosmonaut",l=t.crew.replace(/\s+/g," ");return Object(o.a)(Object(o.a)({},t),{},{crewWithoutSpaces:l,crewArr:l.trim().split(" "),timeInMinutes:a,year:r,date:c,purpose:s,spacecraft:n,cosmoOrAstro:i})})).sort((function(e,t){return e.date>t.date?1:-1})))})).catch((function(e){console.log(e)}))}),[]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("div",{className:"HorizontalFlexTitle",children:[Object(j.jsx)("div",{className:"Title",children:"Spacewalks"}),Object(j.jsx)("div",{className:"TitleHR"})]}),Object(j.jsxs)("div",{className:"HorizontalFlexContent",children:[Object(j.jsxs)("div",{className:"AppLeftSide",children:[Object(j.jsx)("div",{className:"SubTitle",children:"USA and Russia, 1965-2013"}),Object(j.jsxs)("div",{className:"IntroText",children:["Dataset provided by\xa0",Object(j.jsx)("a",{href:"https://data.nasa.gov/Raw-Data/Extra-vehicular-Activity-EVA-US-and-Russia/9kcy-zwvn",children:"NASA's Open Data Portal"}),"\xa0showing all activities done by an astronaut or cosmonaut outside a spacecraft beyond the Earth's appreciable atmosphere.",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"Filter the results with the controls below:"]}),Object(j.jsx)(b,{filterMissionData:l,setFilterMissionData:f,originalMissionData:a})]}),Object(j.jsx)("div",{className:"AppRightSide",children:Object(j.jsx)(k,{filterMissionData:l})})]})]})};n.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)("div",{className:"AppInIndex",children:Object(j.jsx)(A,{})})}),document.getElementById("root"))},17:function(e,t,a){},39:function(e,t,a){}},[[143,1,2]]]);
//# sourceMappingURL=main.43ba74d8.chunk.js.map